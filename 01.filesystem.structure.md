- [Basic](#basic)
  - [Print current working directory](#print-current-working-directory)
  - [List files & directories](#list-files--directories)
  - [Absolute path vs Relative path](#absolute-path-vs-relative-path)
  - [Change current working directory](#change-current-working-directory)
  - [Create files & directories](#create-files--directories)
  - [Copy files & directories](#copy-files--directories)
  - [Move files & directories](#move-files--directories)
  - [Create links to files & directories](#create-links-to-files--directories)
  - [Delete files & directories](#delete-files--directories)
  - [Show disk usage of files & directories](#show-disk-usage-of-files--directories)
- [Advanced](#advanced)
  - [What's using my disk space ?](#whats-using-my-disk-space)
  - [Show files' types](#show-files-types)
  - [Show files & directories informations](#show-files--directories-informations)


# Basic

## Print current working directory
```console
user@ubuntu:~$ pwd
/home/user
```

## List files & directories
List files/directories in current working directory:
```console
user@ubuntu:~$ ls
Desktop  Documents  Downloads  Music  Pictures  Public  Templates  Videos
```

List relative path content:
```console
user@ubuntu:~$ ls Pictures/
image1.jpg  image2.png  image3.jpg
```

List absolute path content:
```console
user@ubuntu:~$ ls /home/user/Pictures/
image1.jpg  image2.png  image3.jpg
```

Use long listing format, and order files using last modification time:
```console
user@ubuntu:~$ ls -lrth
total 40K
drwxr-xr-x 2 user user 4,0K mai   11 20:04 Videos
drwxr-xr-x 2 user user 4,0K mai   11 20:04 Templates
drwxr-xr-x 2 user user 4,0K mai   11 20:04 Public
drwxr-xr-x 2 user user 4,0K mai   11 20:04 Pictures
drwxr-xr-x 2 user user 4,0K mai   11 20:04 Music
drwxr-xr-x 2 user user 4,0K mai   11 20:04 Downloads
drwxr-xr-x 2 user user 4,0K mai   11 20:04 Desktop
-rw-rw-r-- 1 user user   14 mai   11 20:20 myfile
-rw-rw-r-- 1 user user   45 mai   11 20:20 myfile2
drwxr-xr-x 2 user user 4,0K mai   11 20:21 Documents
```

Include hidden files when listing:
```console
user@ubuntu:~$ ls -la
total 96
drwxr-xr-x 14 user user 4096 mai   11 20:20 .
drwxr-xr-x  5 root root 4096 mai   11 20:03 ..
-rw-------  1 user user   87 mai   11 20:11 .bash_history
-rw-r--r--  1 user user  220 mai   11 20:03 .bash_logout
-rw-r--r--  1 user user 3771 mai   11 20:03 .bashrc
drwxrwxr-x  5 user user 4096 mai   11 20:04 .cache
drwx------ 14 user user 4096 mai   11 20:11 .config
drwx------  3 user user 4096 mai   11 20:04 .dbus
drwxr-xr-x  2 user user 4096 mai   11 20:04 Desktop
-rw-r--r--  1 user user   26 mai   11 20:04 .dmrc
drwxr-xr-x  2 user user 4096 mai   11 20:21 Documents
drwxr-xr-x  2 user user 4096 mai   11 20:04 Downloads

...[SNIP]...
```

Understand `ls -l` output : https://unix.stackexchange.com/a/103118/207157


## Absolute path vs Relative path
Absolute path is a path that starts with `/` (which we call it root in Linux). Example : `/home/user/Pictures/`.

Relative path is a path that doesn't start with `/`, and is calculated according to current working directory. Example : If I'm inside `/home/user/`, and I want to list the content of `/home/user/Pictures/` using a relative path, I'll just type the command `ls Pictures/`.


## Change current working directory
Command `cd` is used to change the current working directory.

Change current working directory to directory `Pictures/`:
```console
user@ubuntu:~$ pwd
/home/user
user@ubuntu:~$ cd Pictures/
user@ubuntu:~/Pictures$ pwd
/home/user/Pictures
```

Go to parent directory :
```console
user@ubuntu:~$ pwd
/home/user
user@ubuntu:~$ cd ..
user@ubuntu:/home$ pwd
/home
user@ubuntu:/home$ 
```

Go back to previous location :
```console
user@ubuntu:~$ pwd
/home/user
user@ubuntu:~$ cd /etc/cron.d/
user@ubuntu:/etc/cron.d$ pwd
/etc/cron.d
user@ubuntu:/etc/cron.d$ cd -
/home/user
user@ubuntu:~$ pwd
/home/user
```

## Create files & directories
Create an empty file:
```console
user@ubuntu:~$ touch file1
```

Create an empty file by using an absolute path:
```console
user@ubuntu:~$ touch /home/user/Documents/myfile1
```

Create a directory:
```console
user@ubuntu:~$ mkdir directory1
```

Create an hierarchy of directories:
```console
user@ubuntu:~$ mkdir -p dir1/subdir2/subdir3
```


## Copy files & directories
Copy the file `myfile` to the directory `/home/user/Downloads`:
```console
user@ubuntu:~$ cp myfile /home/user/Downloads/
```

Copy the directory `dir1` to the directory `/home/user/Downloads`:
```console
user@ubuntu:~$ cp -r dir1/ /home/user/Downloads/
```

Show verbose output while copying:
```console
user@ubuntu:~$ cp -rv dir1/ /home/user/Downloads/
'dir1/' -> '/home/user/Downloads/dir1'
'dir1/subdir2' -> '/home/user/Downloads/dir1/subdir2'
'dir1/subdir2/subdir3' -> '/home/user/Downloads/dir1/subdir2/subdir3'
```

When copying files and directories, we can use [absolute and relative](#absolute-path-vs-relative-path) paths for both **source** and **destination**.


## Move files & directories
Move the file `myfile` to the directory `/home/user/Downloads`:
```console
user@ubuntu:~$ mv myfile /home/user/Downloads/
```

Move the directory `dir1` to the directory `/home/user/Downloads`:
```console
user@ubuntu:~$ mv dir1/ /home/user/Downloads/
```

Show verbose output while moving:
```console
user@ubuntu:~$ mv -v dir1/ /home/user/Downloads/
'dir1/' -> '/home/user/Downloads/dir1'
```

When moving files and directories, we can use [absolute and relative](#absolute-path-vs-relative-path) paths for both **source** and **destination**.


## Create links to files & directories
Create a symbolic relative link to a file:
```console
user@ubuntu:~$ ln -sr Downloads/myfile mylink
user@ubuntu:~$ ls -l mylink 
lrwxrwxrwx 1 user user 16 mai   12 20:16 mylink -> Downloads/myfile
```

Create a symbolic absolute link to a file:
```console
user@ubuntu:~$ ln -s /home/user/Downloads/myfile mylink
user@ubuntu:~$ ls -l mylink 
lrwxrwxrwx 1 user user 27 mai   12 20:34 mylink -> /home/user/Downloads/myfile
```

The simple explanation to the difference between absolute and relative symbolic links :
  - An absolute symbolic link will stay valid no matter when you move the symbolic link, but it will become invalid as soon as you
    you move the file.
  - A relative link stays valid as long as you keep the same relative path between the link and the file. It means, even if 
    you have to move the file, just move the link with it, in a way that keeps the same relative path between them.

Symbolic links to directories are created the same way as symbolic links to files.


## Delete files & directories
Delete a file:
```console
user@ubuntu:~$ rm myfile
```

Delete a directory:
```console
user@ubuntu:~$ rm -r dir1/
```

Show verbose output while deleting:
```console
user@ubuntu:~$ rm -rv dir1/
removed directory 'dir1/subdir2/subdir3'
removed directory 'dir1/subdir2'
removed directory 'dir1/'
```

We can use both [absolute and relative](#absolute-path-vs-relative-path) when deleting files and directories.


## Show disk usage of files & directories
Show disk usage of a file:
```console
user@ubuntu:~$ du -sh Videos/movie-2020.mp4
812M     Videos/movie-2020.mp4
```

Show disk usage of a directory:
```console
user@ubuntu:~$ du -sh /home/user/Pictures/
400K    /home/user/Pictures/
```

Show disk usage of all files and directories in the current directory, and sort them using their size.
```console
user@ubuntu:~$ du -ah ./ | sort -h
...[SNIP]...
36K     ./.config/openbox
44K     ./.config/pulse/38c787e34637445597c7567da81abdfd-card-database.tdb
48K     ./.cache/lxsession/Lubuntu/run.log
52K     ./.cache/lxsession/Lubuntu
56K     ./.cache/lxsession
76K     ./.config/pulse
100K    ./.cache
120K    ./Pictures/image1.jpg
120K    ./Pictures/image2.png
156K    ./Pictures/image3.jpg
232K    ./.config
400K    ./Pictures
23M     ./Videos
23M     ./Videos/movie-2020.mp4
24M     .
```

We can use both [absolute and relative](#absolute-path-vs-relative-path) paths of files and directories.


# Advanced

## What's using my disk space ?
The command `ncdu` allows us to show interactively the disk usage of a directory and all of it's sub files/directories. 
We can then move through these files & directories, and delete any of one of them using the letter `d`.

This is very useful to find big files and directories that are consuming disk space.

[![asciicast](https://asciinema.org/a/tLwSpX32X3GZG6AF2kQXMVi0o.png)](https://asciinema.org/a/tLwSpX32X3GZG6AF2kQXMVi0o)

This command isn't installed by default, and we need to install it using the OS package manager.
  - On Debian based distributions (like Ubuntu) :
    ```console
    sudo apt-get update && sudo apt-get install ncdu -y
    ```
  - On Red Hat based distributions (like Fedora):
    ```console
    dnf install ncdu
    ```

## Show files' types
The command `file` is used to get the type of a file:
```console
user@ubuntu:~$ file Videos/video.mp4 
Videos/video.mp4: ISO Media, MP4 Base Media v1 [IS0 14496-12:2003]
user@ubuntu:~$ file Pictures/image1.jpg 
Pictures/image1.jpg: JPEG image data, JFIF standard 1.02, aspect ratio, density 1x1, segment length 16, Exif Standard: [TIFF image data, big-endian, direntries=6, xresolution=86, yresolution=94, resolutionunit=2, software=Adobe Photoshop CS3 Windows, datetime=2008:03:04 14:28:07], baseline, precision 8, 1024x640, frames 3
user@ubuntu:~$ file mylink 
mylink: symbolic link to /home/user/Downloads/myfile
```

## Show files & directories informations
The command `stat` displays some informations about a file/directory like owner & group, last access/change time:
```console
user@ubuntu:~$ stat file1
  File: 'file1'
  Size: 0               Blocks: 0          IO Block: 4096   regular empty file
Device: 801h/2049d      Inode: 414450      Links: 1
Access: (0664/-rw-rw-r--)  Uid: ( 1002/    user)   Gid: ( 1002/    user)
Access: 2020-05-12 01:08:04.015458094 +0200
Modify: 2020-05-12 01:08:04.015458094 +0200
Change: 2020-05-12 01:08:04.015458094 +0200
 Birth: -
```

Understand `stat` output : https://www.thegeekstuff.com/2009/07/unix-stat-command-how-to-identify-file-attributes/

<!-- 
## tree
## List partitions
lsblk
mount
fdisk -l

## Disk usage of partitions
## Mount & unmount partitions
## Format partitions
## Check filesystem integrity
## Get partition type
## Secure Delete
## fdupes
## lsof and fuser
## getfattr & setfattr 
## Interesting directories -->